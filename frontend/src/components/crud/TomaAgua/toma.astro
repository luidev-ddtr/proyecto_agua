<div class="max-w-lg p-6 bg-[#035cb6] rounded-lg shadow-md ml-4 mt-20">
  <h2 class="text-2xl font-bold mb-6 text-white text-center">Toma de Agua</h2>

  <form
    x-data="{
      form: {
        ubicacion: '',
        personas: '',
        manzana: '',
        descripcion: ''
      },
      errors: {},
      isSubmitting: false,

      validarCampos() {
        this.errors = {};

        if (!this.form.ubicacion.trim()) {
          this.errors.ubicacion = 'Ingrese una ubicación válida';
        }

        if (!this.form.personas.trim()) {
          this.errors.personas = 'Ingrese el nombre o número de personas';
        }

        if (!this.form.manzana) {
          this.errors.manzana = 'Seleccione una manzana';
        }

        return Object.keys(this.errors).length === 0;
      },

      async submitForm() {
        if (!this.validarCampos()) {
          return;
        }

        this.isSubmitting = true;

        const formData = {
          ubicacion: this.form.ubicacion,
          personas: this.form.personas,
          manzana: this.form.manzana,
          descripcion: this.form.descripcion
        };

        console.log('Datos enviados:', formData);

        // Aquí iría tu llamada fetch() o Axios
        setTimeout(() => {
          alert('Formulario enviado con éxito');
          this.isSubmitting = false;
        }, 1000);
      }
    }"
    @submit.prevent="submitForm"
    class="space-y-4"
  >

    <!-- Campo Ubicación -->
    <div>
      <label for="ubicacion" class="block text-sm font-medium text-white">Ubicación (Calle y Manzana)*</label>
      <input
        type="text"
        id="ubicacion"
        x-model="form.ubicacion"
        class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-white text-gray-800"
        placeholder="Ej: Calle 5, Manzana Centro"
      >
      <template x-if="errors.ubicacion">
        <p class="mt-1 text-yellow-200 text-sm" x-text="errors.ubicacion"></p>
      </template>
    </div>

    <!-- Campo Personas -->
    <div>
      <label for="personas" class="block text-sm font-medium text-white">Personas que la usan*</label>
      <input
        type="text"
        id="personas"
        x-model="form.personas"
        class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-white text-gray-800"
        placeholder="Ej: Juan Pérez, Ana Ruiz o 4 personas"
      >
      <template x-if="errors.personas">
        <p class="mt-1 text-yellow-200 text-sm" x-text="errors.personas"></p>
      </template>
    </div>

    <!-- Campo Manzana -->
    <div class="relative">
      <label for="manzana" class="block text-sm font-medium text-white">Manzana*</label>
      <select
        id="manzana"
        x-model="form.manzana"
        class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-white text-gray-800 appearance-none pr-10"
      >
        <option value="" disabled selected class="text-gray-400">Seleccione una manzana</option>
        <option value="Centro" class="text-gray-800">Centro</option>
        <option value="Garambullo" class="text-gray-800">Garambullo</option>
        <option value="Yondha" class="text-gray-800">Yondha</option>
        <option value="Cerritos" class="text-gray-800">Cerritos</option>
        <option value="Tepetate" class="text-gray-800">Tepetate</option>
        <option value="Buena vista" class="text-gray-800">Buena vista</option>
      </select>
      <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none mt-6">
        <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
        </svg>
      </div>
      <template x-if="errors.manzana">
        <p class="mt-1 text-yellow-200 text-sm" x-text="errors.manzana"></p>
      </template>
    </div>

    <!-- Campo Descripción -->
    <div>
      <label for="descripcion" class="block text-sm font-medium text-white">Descripción</label>
      <textarea
        id="descripcion"
        x-model="form.descripcion"
        rows="3"
        placeholder="Escriba detalles adicionales si lo desea"
        class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-white text-gray-800 resize-none"
      ></textarea>
    </div>

    <!-- Botón -->
    <div>
      <button
        type="submit"
        class="w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-[#1a4b8c] hover:bg-[#163d6f] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-300"
        :disabled="isSubmitting"
        x-text="isSubmitting ? 'Enviando...' : 'Enviar'"
      ></button>
    </div>

  </form>
</div>

